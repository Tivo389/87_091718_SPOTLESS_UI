"use strict";var _elementFunctions=require("./elementFunctions.js"),_svgVariables=require("./svgVariables.js");function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}var waterForms=document.querySelectorAll(".waterForm"),svg=new _svgVariables.Svg,elf=new _elementFunctions.ElementFunction;if(waterForms){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_loop=function(){var r=_step.value,e=r.querySelectorAll("input[type='text']"),t=r.querySelectorAll("textarea"),a=r.querySelectorAll("input[type='checkbox']"),n=r.querySelectorAll("input[type='radio']"),o=r.querySelectorAll("input[type='number']"),c=_toConsumableArray(e).concat(_toConsumableArray(t)),i=_toConsumableArray(a).concat(_toConsumableArray(n)),l=_toConsumableArray(o),s=function(e){var r,t,a,n,o=e.currentTarget.closest(".stepperBox"),c=o.querySelector("input[type='number']");switch(e.currentTarget.className.toUpperCase()){case"STEPPERUP":a=+c.value>=+c.min,n=+c.value<+c.max,a&&n&&c.value++,+c.value==+c.max&&(o.querySelector(".notice").textContent="Max. value",o.querySelector(".notice").classList.add("active"));break;case"STEPPERDOWN":r=+c.value>+c.min,t=+c.value<=+c.max,r&&t&&c.value--,+c.value==+c.min&&(o.querySelector(".notice").textContent="Min. value",o.querySelector(".notice").classList.add("active"));break;default:console.error("handleStepperClick(): Switch Case Error")}},u=function(e){elf.countString(e.currentTarget),elf.inputValidation(r,c)},d=function(e){e.currentTarget.closest("div").classList.add("active")},p=function(e){e.currentTarget.value.length||e.currentTarget.closest("div").classList.remove("active"),elf.inputValidation(r,c)},m=function(t){var e,r=function(){var e=t.closest("div"),r="".concat(t.type.toLowerCase(),"CheckMark");e.querySelector("label").insertAdjacentHTML("afterbegin",'<span class="'.concat(r,'">').concat(svg.check,"</span>")),t.checked&&e.querySelector(".".concat(r)).classList.add("checked"),t.disabled&&e.querySelector(".".concat(r)).classList.add("disabled")};switch(t.type.toUpperCase()){case"TEXT":t.addEventListener("focus",d,!1),t.addEventListener("blur",p,!1),elf.addRequirementSymbol(t);break;case"TEXTAREA":t.addEventListener("focus",d,!1),t.addEventListener("input",u,!1),t.addEventListener("blur",p,!1),elf.addRequirementSymbol(t),elf.addStringCounter(t);break;case"CHECKBOX":case"RADIO":r();break;case"NUMBER":(e=document.createElement("div")).className="stepperBox",t.parentNode.insertBefore(e,t),e.appendChild(t),e.insertAdjacentHTML("beforeend",'\n          <span class="stepperUp">'.concat(svg.add,'</span>\n          <span class="stepperDown">').concat(svg.minus,'</span>\n          <span class="notice"></span>\n        ')),e.querySelector(".stepperUp").addEventListener("click",s,!1),e.querySelector(".stepperDown").addEventListener("click",s,!1),e.addEventListener("animationend",function(){e.querySelector(".notice").classList.remove("active")}),elf.addRequirementSymbol(t);break;default:console.error("addWater(): Switch Case Error")}};c.forEach(function(e){m(e)}),i.forEach(function(e){m(e)}),l.forEach(function(e){m(e)})},_iterator=waterForms[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_loop()}catch(e){_didIteratorError=!0,_iteratorError=e}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}